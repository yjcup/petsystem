<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>统计</title>
    <link rel="shortcut icon" href="favicon.ico">
    <link href="../static/css/bootstrap.min.css" th:href="@{/css/bootstrap.min.css}" rel="stylesheet"/>
    <link href="../static/css/font-awesome.min.css" th:href="@{/css/font-awesome.min.css}" rel="stylesheet"/>
    <link href="../static/css/animate.min.css" th:href="@{/css/animate.min.css}" rel="stylesheet"/>
    <link href="../static/css/style.min.css" th:href="@{/css/style.min.css}" rel="stylesheet"/>
</head>

<body class="gray-bg">
    <div class="wrapper wrapper-content">

        <div class="row">
            <div class="col-sm-3">
                <div class="ibox float-e-margins">
                    <div class="ibox-title">
                        <span class="label label-success pull-right">所有</span>
                        <h5>系统用户数</h5>
                    </div>
                    <div class="ibox-content">
                        <h1 class="no-margins">[[${usersize}]]</h1>
<!--                        <div class="stat-percent font-bold text-success">98% <i class="fa fa-bolt"></i>-->
<!--                        </div>-->
<!--                        <small>用户</small>-->
                    </div>
                </div>
            </div>
            <div class="col-sm-3">
                <div class="ibox float-e-margins">
                    <div class="ibox-title">
                        <span class="label label-info pull-right">全年</span>
                        <h5>订单</h5>
                    </div>
                    <div class="ibox-content">
                        <h1 class="no-margins">[[${ordersize}]]</h1>
<!--                        <div class="stat-percent font-bold text-info">20% <i class="fa fa-level-up"></i>-->
<!--                        </div>-->
<!--                        <small>新订单</small>-->
                    </div>
                </div>
            </div>
            <div class="col-sm-3">
                <div class="ibox float-e-margins">
                    <div class="ibox-title">
                        <span class="label label-primary pull-right">所有</span>
                        <h5>系统宠物数</h5>
                    </div>
                    <div class="ibox-content">
                        <h1 class="no-margins">[[${petsize}]]</h1>
<!--                        <div class="stat-percent font-bold text-navy">44% <i class="fa fa-level-up"></i>-->
<!--                        </div>-->
<!--                        <small>新访客</small>-->
                    </div>
                </div>
            </div>
            <div class="col-sm-3">
                <div class="ibox float-e-margins">
                    <div class="ibox-title">
                        <span class="label label-danger pull-right">今年</span>
                        <h5>活跃用户</h5>
                    </div>
                    <div class="ibox-content">
                        <h1 class="no-margins">[[${ressize}]]</h1>
<!--                        <div class="stat-percent font-bold text-danger">38% <i class="fa fa-level-down"></i>-->
<!--                        </div>-->
<!--                        <small>12月</small>-->
                    </div>
                </div>
            </div>
        </div>
        
        <div class="row">
            <div class="col-sm-12">
                <div class="ibox float-e-margins">
                    <div class="ibox-title">
                        <h5>订单</h5>
                        <div class="pull-right">
<!--                            <div class="btn-group">-->
<!--                                <button type="button" class="btn btn-xs btn-white active">天</button>-->
<!--                                <button type="button" class="btn btn-xs btn-white">月</button>-->
<!--                                <button type="button" class="btn btn-xs btn-white">年</button>-->
<!--                            </div>-->
                        </div>
                    </div>
                    <div class="ibox-content">
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="flot-chart">
                                    <div class="flot-chart-content" id="flot-dashboard-chart"></div>
                                </div>
                            </div>
<!--                            <div class="col-sm-3">-->
<!--                                <ul class="stat-list">-->
<!--                                    <li>-->
<!--                                        <h2 class="no-margins">2,346</h2>-->
<!--                                        <small>订单总数</small>-->
<!--                                        <div class="stat-percent">48% <i class="fa fa-level-up text-navy"></i>-->
<!--                                        </div>-->
<!--                                        <div class="progress progress-mini">-->
<!--                                            <div style="width: 48%;" class="progress-bar"></div>-->
<!--                                        </div>-->
<!--                                    </li>-->
<!--                                    <li>-->
<!--                                        <h2 class="no-margins ">4,422</h2>-->
<!--                                        <small>最近一个月订单</small>-->
<!--                                        <div class="stat-percent">60% <i class="fa fa-level-down text-navy"></i>-->
<!--                                        </div>-->
<!--                                        <div class="progress progress-mini">-->
<!--                                            <div style="width: 60%;" class="progress-bar"></div>-->
<!--                                        </div>-->
<!--                                    </li>-->
<!--                                    <li>-->
<!--                                        <h2 class="no-margins ">9,180</h2>-->
<!--                                        <small>最近一个月销售额</small>-->
<!--                                        <div class="stat-percent">22% <i class="fa fa-bolt text-navy"></i>-->
<!--                                        </div>-->
<!--                                        <div class="progress progress-mini">-->
<!--                                            <div style="width: 22%;" class="progress-bar"></div>-->
<!--                                        </div>-->
<!--                                    </li>-->
<!--                                 </ul>-->
<!--                            </div>-->
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
      </div>
    </div>
    <script th:src="@{/js/jquery.min.js}"></script>
    <script th:src="@{/js/bootstrap.min.js}"></script>
    <script th:src="@{/ajax/libs/flot/jquery.flot.js}"></script>
    
    <th:block th:include="include :: sparkline-js" />
    <script type="text/javascript">
	    $(document).ready(function () {
	
	        var data3 = [[${data}]]
            // var data3 = [
            //     [gd(2024, 4, 9), 12],[gd(2024, 4, 10), 20],[gd(2024, 4, 11), 9]
            // ];

            console.log(data3)
	        var dataset = [
	            {
	                label: "订单数",
	                data: data3,
	                color: "#1ab394",
	                bars: {
	                    show: true,
	                    align: "center",
	                    barWidth: 24 * 60 * 60 * 600,
	                    lineWidth: 0
	                }
	
	            }
	        ];
	
	
	        // var options = {
	        //     xaxis: {
	        //         mode: "time",
	        //         tickSize: [1, "day"],
	        //         tickLength: 0,
	        //         axisLabel: "Date",
	        //         axisLabelUseCanvas: true,
	        //         axisLabelFontSizePixels: 12,
	        //         axisLabelFontFamily: 'Arial',
	        //         axisLabelPadding: 10,
	        //         color: "#838383"
	        //     },
	        //     yaxes: [{
	        //             position: "left",
	        //             max: 1070,
	        //             color: "#838383",
	        //             axisLabelUseCanvas: true,
	        //             axisLabelFontSizePixels: 12,
	        //             axisLabelFontFamily: 'Arial',
	        //             axisLabelPadding: 3
	        //     }, {
	        //             position: "right",
	        //             clolor: "#838383",
	        //             axisLabelUseCanvas: true,
	        //             axisLabelFontSizePixels: 12,
	        //             axisLabelFontFamily: ' Arial',
	        //             axisLabelPadding: 67
	        //     }
	        //     ],
	        //     legend: {
	        //         noColumns: 1,
	        //         labelBoxBorderColor: "#000000",
	        //         position: "nw"
	        //     },
	        //     grid: {
	        //         hoverable: false,
	        //         borderWidth: 0,
	        //         color: '#838383'
	        //     }
	        // };
            var options = {
                series: {
                    bars: {
                        show: true,
                        barWidth: 24 * 60 * 60 * 1000, // 一天的毫秒数，确定柱子的宽度
                        align: "center" // 将柱子居中显示在刻度上
                    }
                },
                xaxis: {
                    mode: "time",
                    tickSize: [1, "day"], // 每天显示一个刻度
                    timeformat: "%m-%d", // 设置日期格式
                    color: "#838383"
                },
                yaxis: {
                    min: 1, // y轴最小值
                    max: 100, // y轴最大值
                    color: "#838383",
                    axisLabelUseCanvas: true,
                    axisLabelFontSizePixels: 12,
                    axisLabelFontFamily: 'Arial',
                    axisLabelPadding: 3
                },
                legend: {
                    show: false // 不显示图例
                },
                grid: {
                    hoverable: false,
                    borderWidth: 0,
                    color: '#838383'
                }
            };

            function gd(year, month, day) {
	            return new Date(year, month - 1, day).getTime();
	        }
	
	        var previousPoint = null,
	            previousLabel = null;
	
	        $.plot($("#flot-dashboard-chart"), dataset, options);
	    });
    </script>
</body>
</html>
